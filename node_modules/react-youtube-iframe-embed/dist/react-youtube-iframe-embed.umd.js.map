{"version":3,"file":"react-youtube-iframe-embed.umd.js","sources":["../../../node_modules/fbjs/lib/emptyFunction.js","../../../node_modules/fbjs/lib/invariant.js","../../../node_modules/object-assign/index.js","../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/prop-types/index.js","../../flex-embed/dist/flex-embed.esm.js","../index.js"],"sourcesContent":["\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, { Component } from 'react';\nimport { Block } from 'jsxstyle';\nimport PropTypes from 'prop-types';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Responsive, intrinsic ratio or percentage embeds\n */\n\nvar FlexEmbed = function (_Component) {\n  _inherits(FlexEmbed, _Component);\n\n  function FlexEmbed() {\n    _classCallCheck(this, FlexEmbed);\n\n    return _possibleConstructorReturn(this, (FlexEmbed.__proto__ || Object.getPrototypeOf(FlexEmbed)).apply(this, arguments));\n  }\n\n  _createClass(FlexEmbed, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          ratio = _props.ratio,\n          setRef = _props.setRef,\n          children = _props.children,\n          percentage = _props.percentage,\n          props = _objectWithoutProperties(_props, ['ratio', 'setRef', 'children', 'percentage']);\n\n      return React.createElement(\n        Block,\n        _extends({ overflow: 'hidden', position: 'relative' }, props),\n        React.createElement(Block, { width: '100%', paddingBottom: percentage || ratio * 100 + '%' }),\n        React.createElement(\n          Block,\n          {\n            top: '0',\n            left: '0',\n            props: { ref: setRef },\n            width: '100%',\n            height: '100%',\n            bottom: '0',\n            position: 'absolute' },\n          children\n        )\n      );\n    }\n  }]);\n\n  return FlexEmbed;\n}(Component);\n\nFlexEmbed.propTypes = {\n  /**\n   * Ratio for embed innards, e.g. `3 / 4`, `9 / 16`, `0.75`\n   */\n  ratio: PropTypes.number,\n  /**\n   * @ignore\n   */\n  setRef: PropTypes.func,\n  /**\n   * @ignore\n   */\n  children: PropTypes.any,\n  /**\n   * Percentage of embed innards' width / height ratio, e.g. 75%\n   */\n  percentage: PropTypes.string\n};\nFlexEmbed.defaultProps = {\n  ratio: 1\n};\n\nexport default FlexEmbed;\n//# sourceMappingURL=flex-embed.esm.js.map\n","import React, {Component, createContext} from 'react';\nimport FlexEmbed from 'flex-embed';\nimport PropTypes from 'prop-types';\n\nconst noop = () => {};\n\nconst defaultValue = {isReady: false};\nconst {Provider, Consumer} = createContext(defaultValue);\n\nexport class YouTubeIframeAPIProvider extends Component {\n  static propTypes = {\n    children: PropTypes.any.isRequired\n  };\n\n  state = defaultValue;\n\n  componentDidMount() {\n    const tag = document.createElement('script');\n    tag.id = 'ytapi';\n    tag.src = 'https://www.youtube.com/player_api';\n\n    const firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    window.onYouTubeIframeAPIReady = () => this.setState({isReady: true});\n  }\n\n  render() {\n    const {children} = this.props;\n\n    return <Provider value={this.state}>{children}</Provider>;\n  }\n}\n\n/**\n * Embed YouTube video\n */\nexport default class YouTubeEmbed extends Component {\n  static propTypes = {\n    /**\n     * Whether to play the single video or the entire playlist again and again\n     */\n    loop: PropTypes.bool,\n    /**\n     * Play video muted\n     */\n    mute: PropTypes.bool,\n    /**\n     * Embedded video player's width in PX, e.g. `640`\n     */\n    width: PropTypes.number,\n    /**\n     * Embedded video player's height in PX, e.g. `390`\n     */\n    height: PropTypes.number,\n    /**\n     * Embedded video's ID, e.g. `IjTBcqpl2kc`\n     */\n    videoId: PropTypes.string.isRequired,\n    /**\n     * Play video automatically\n     */\n    autoPlay: PropTypes.bool,\n    /**\n     * Whether the video player controls are displayed\n     */\n    controls: PropTypes.bool,\n    /**\n     * Whether to play the video in portrait mode\n     */\n    portrait: PropTypes.bool,\n    /**\n     * Player element's class names\n     */\n    className: PropTypes.string,\n    /**\n     * Play video inline instead of full screen on mobile devices\n     */\n    playsInline: PropTypes.bool,\n    /**\n     * Function to run when video is cued and ready to play\n     */\n    onCued: PropTypes.func,\n    /**\n     * Function to run when video ended\n     */\n    onEnded: PropTypes.func,\n    /**\n     * Function to run when player has finished loading and is ready to begin\n     * receiving API calls\n     */\n    onReady: PropTypes.func,\n    /**\n     * Function to run when video start to play for the first time\n     */\n    onStart: PropTypes.func,\n    /**\n     * Function to run when video paused\n     */\n    onPaused: PropTypes.func,\n    /**\n     * Function to run whenever video's state changed to playing\n     */\n    onPlaying: PropTypes.func,\n    /**\n     * Function to run for every one second when video are playing\n     */\n    onProgress: PropTypes.func,\n    /**\n     * Function to run when video's state changed to buffering\n     */\n    onBuffering: PropTypes.func,\n    /**\n     * Function to run when the player first loads a video\n     */\n    onUnstarted: PropTypes.func\n  };\n\n  static defaultProps = {\n    loop: false,\n    mute: false,\n    autoPlay: false,\n    controls: true,\n    portrait: false,\n    playsInline: true,\n\n    onCued: noop,\n    onEnded: noop,\n    onReady: noop,\n    onPaused: noop,\n    onPlaying: noop,\n    onBuffering: noop,\n    onUnstarted: noop\n  };\n\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.destroy();\n    }\n  }\n\n  componentWillReceiveProps({videoId}) {\n    if (videoId !== this.props.videoId) {\n      this.player.cueVideoById(videoId);\n    }\n  }\n\n  onReady = (...args) => {\n    const {mute, onReady, autoPlay} = this.props;\n\n    if (mute) {\n      this.player.mute();\n    }\n\n    if (autoPlay) {\n      const event = args[0];\n\n      event.target.playVideo();\n    }\n\n    if (onReady) {\n      onReady(...args);\n    }\n  };\n\n  onStateChange = ({data}) => {\n    const {onStart, onProgress} = this.props;\n\n    switch (data) {\n      case 1:\n        if (onProgress && !this.progress) {\n          this.progress = setInterval(() => {\n            onProgress(this.player.getCurrentTime());\n          }, 1000);\n        }\n\n        if (onStart && !this.isStarted) {\n          onStart();\n\n          this.isStarted = true;\n        }\n\n        return this.props.onPlaying();\n\n      case -1:\n      case 0:\n      case 5:\n        /* reset started state */\n        this.isStarted = false;\n\n      // eslint-disable-line no-fallthrough\n      default:\n        if (onProgress && this.progress) {\n          this.progress = clearInterval(this.progress);\n        }\n\n        switch (data) {\n          case -1:\n            return this.props.onUnstarted();\n          case 0:\n            return this.props.onEnded();\n          case 2:\n            return this.props.onPaused();\n          case 3:\n            return this.props.onBuffering();\n          case 5:\n            return this.props.onCued();\n        }\n    }\n  };\n\n  createPlayer = ref => {\n    const {\n      mute,\n      width,\n      height,\n      videoId,\n      autoPlay,\n      controls,\n      playsInline\n    } = this.props;\n\n    this.player = new window.YT.Player(ref, {\n      width: width ? width.toString() : undefined,\n      height: height ? height.toString() : undefined,\n      events: {\n        onReady: this.onReady,\n        onStateChange: this.onStateChange\n      },\n      videoId,\n      playerVars: {\n        mute: mute ? 1 : 0,\n        autoplay: autoPlay ? 1 : 0,\n        controls: controls ? 1 : 0,\n        playsinline: playsInline ? '1' : '0'\n      }\n    });\n  };\n\n  setRef = ref => {\n    if (this.player) {\n      this.player.destroy();\n    }\n\n    this.createPlayer(ref);\n  };\n\n  render() {\n    const {width, height, portrait, className} = this.props;\n\n    return (\n      <FlexEmbed ratio={portrait ? 16 / 9 : 9 / 16}>\n        <Consumer>\n          {({isReady}) => (\n            <div\n              ref={isReady ? this.setRef : undefined}\n              style={{width: width || '100%', height: height || '100%'}}\n              className={className}\n            />\n          )}\n        </Consumer>\n      </FlexEmbed>\n    );\n  }\n}\n"],"names":["makeEmptyFunction","arg","emptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","module","validateFormat","format","invariant","condition","a","b","c","d","e","f","error","undefined","Error","args","argIndex","replace","name","framesToPop","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","target","source","from","to","symbols","s","arguments","length","key","call","ReactPropTypesSecret","shim","props","propName","componentName","location","propFullName","secret","isRequired","getShim","ReactPropTypes","checkPropTypes","PropTypes","require","_extends","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_objectWithoutProperties","obj","indexOf","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","FlexEmbed","_Component","getPrototypeOf","apply","render","_props","ratio","setRef","children","percentage","React","createElement","Block","overflow","position","width","paddingBottom","top","left","ref","height","bottom","Component","propTypes","number","func","any","string","defaultProps","noop","defaultValue","isReady","createContext","Provider","Consumer","YouTubeIframeAPIProvider","state","tag","document","id","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","window","onYouTubeIframeAPIReady","setState","YouTubeEmbed","player","destroy","videoId","cueVideoById","portrait","className","loop","bool","mute","autoPlay","controls","playsInline","onCued","onEnded","onReady","onStart","onPaused","onPlaying","onProgress","onBuffering","onUnstarted","event","playVideo","onStateChange","data","progress","setInterval","getCurrentTime","isStarted","clearInterval","createPlayer","YT","Player","toString","events","playerVars","autoplay","playsinline"],"mappings":"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"}